<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="css/sub.css">
    <script src="js/sub.js"></script>
    
    <script>
       $(function(){
            $("#dataOpen").click(function(){
                //ajax 선언
                $.ajax({
                    url:"js/board.json",      //서버에서 받아올 url주소
                    type:"get",  //get,post 방식 결정
                    data:{},     // 웹 -> 서버로 보내는 데이터
                    dataType:"json", //리턴해줄 타입
                    success:function(data){
                        alert("성공");
                        console.log(data);

                        let hdata = ``;
                        for(let i=0;i<data.length;i++){

                            hdata += `<tr id="${data[i].bno}">`;
                            hdata += `<td>${data[i].bno}</td>`;
                            hdata += `<td>${data[i].title}</td>`;
                            hdata += `<td>${data[i].id}</td>`;
                            hdata += `<td>${data[i].bdate}</td>`;
                            hdata += `<td>${data[i].bhit}</td>`;
                            hdata += `<td>`;
                            hdata += `<button type="button" class="uBtn">수정</button>`;
                            hdata += `<button type="button" class="dBtn">삭제</button>`;
                            hdata += `</td>`;
                            hdata += `</tr>`;
                            $("#tbody").html(hdata);
                        }
                        

                    },
                    error:function(){
                        alert("실패");
                    }

                });//ajax

            });//dataopen
       }); // jquery
       
    </script>
</head>
<body>
    <div id="container">
        <h2>게시판</h2>
        <div id="input">
            <div>글을 입력하세요.</div>
            <input type="text" name="title" id="title" placeholder="제목을 입력하세요"><br>
            <input type="text" name="id" id="id" placeholder="작성자를 입력하세요"><br>
            <button type="button" id="save">저장</button>
            <button type="button" id="dataOpen">데이터 불러오기</button>
        </div>

        <table>
            <colgroup>
              <col width="10%">
              <col width="*">
              <col width="12%">
              <col width="12%">
              <col width="12%">
              <col width="20%">
            </colgroup>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>작성일</th>
                <th>조회수</th>
                <th>기타</th>
            </tr>
            <tbody id="tbody">
                <tr id="">
                    <td>1</td>
                    <td>이벤트신청</td>
                    <td>관리자</td>
                    <td>2025-04-24</td>
                    <td>100</td>
                    <td>
                        <button type="button" class="uBtn">수정</button>
                        <button type="button" class="dBtn">삭제</button>
                    </td>
                </tr>
                
            </tbody>
        </table>

    </div>


    
</body>
</html>